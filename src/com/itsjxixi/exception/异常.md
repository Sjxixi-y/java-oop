# 异常

> 程序在运行过程中发生不可逆转的事。

提高程序的健壮性、稳定性、安全性



## 异常引入

需求：控制台输入两个整数，求商，输出

```java
Main1
```



结果：输入出问题，程序停止



解决：增加判断

```java
Main2
```



结果：真正需要的代码只有一条输出语句，其余的都是判断语句。



解决2：使用try-catch处理

```java
Mian3
```



结果：代码简洁、出问题后还能执行下面代码，不会终止程序。



## 异常处理

### 捕获：

异常匹配，catch块处理（catch块后的执行）

异常不匹配：JVM处理（catch块后的不执行）。

让程序自己处理异常，不要让JVM处理



### 向上抛：

谁调用，谁处理。

```java
throws 异常类型
```





## 产生异常

```
throw new 异常类型;
```



课题案例：



getMessage()

获取异常内的参数。



### 多重catch

针对每一个不同的具体异常有不同的处理机制。

为未知异常统一处理。

特殊的放代码之前，广泛的放代码最后。



## 异常分类

### Error

> 系统内部错误。程序员无法解决



### Exception

> 程序错误。能被解决



#### 运行时异常

```java
RunRuntimeException
```





#### 编译时异常

```java
Checked Excetion
```



必须在写代码时处理，预警功能。防止在出问题时停止程序。



## 自定义异常

创建一个类，继承运行时异常（Run）或编译时异常（Excetion）。



## 异常链（异常转译或者称为包装）

不能把底层原始异常直接传递给用户



先捕获异常，然后自定义为一个更容易被理解的异常。

案例1：用户输入拍卖价格，系统将拍卖价格保存到数据库中，给出提示信息 

```java
Main5
```

> 在数据层出现的异常，不交给数据层处理。而是交给事务层处理具体，并且创建自定义异常，返还给给用户看。



















